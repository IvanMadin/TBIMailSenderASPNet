@model IEnumerable<EmailViewModel>


<th>Email Id</th>
<th>Date Received</th>
<th>Sender</th>
<th>Subject</th>
@if (Model.Any(e => e.EmailStatusName.StartsWith("Not")))
{
    <th>Status</th>
    <th>
        <i class="fas fa-link" style="font-size:16px; text-align:center"></i>
    </th>
}
else
{
    @if (Model.Any(e => e.EmailStatusName.StartsWith("New")))
    {
        <th>CurrentStatus Since</th>
    }
    @if (Model.Any(e => e.EmailStatusName.StartsWith("Open")))
    {
        <th>CurrentStatus Since</th>
        @if (User.IsInRole("Manager"))
        {
            <th>Changed by</th>
        }
    }
    @if (Model.Any(e => e.EmailStatusName.StartsWith("Closed")))
    {
        <th>Application Status</th>
        @if (User.IsInRole("Manager"))
        {
            <th>Changed by</th>
        }
    }
    @if (Model.Any(e => e.EmailStatusName.StartsWith("Invalid")))
    {
    }
}

<th>View</th>
