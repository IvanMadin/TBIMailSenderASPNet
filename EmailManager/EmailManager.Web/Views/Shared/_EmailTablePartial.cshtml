@model IEnumerable<EmailViewModel>

<div class="content">
    <div class="container-fluid">
        <table id="application-form-div" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <partial name="_ListEmailsHeadPartial" />
                </tr>
            </thead>
            <tbody>
                @foreach (var email in Model)
                {
                <tr>
                    <partial name="_ListEmailsBodyPartial" model="@email" />
                    @if (Model.Any(e => e.EmailStatusName.StartsWith("Not")))
                    {
                        <td>
                            @email.EmailStatusName
                        </td>
                        <td>
                            <i class="fas fa-link" style="font-size:18px; text-align:center"></i>
                        </td>

                    }
                    @if (Model.Any(e => e.EmailStatusName.StartsWith("New") && !e.EmailStatusName.StartsWith("Not") && !e.EmailStatusName.StartsWith("Open") && !e.EmailStatusName.StartsWith("Closed") && !e.EmailStatusName.StartsWith("Invalid")))
                    {
                        <td>
                            @email.ModifiedOnDate
                        </td>
                    }
                    @if (Model.Any(e => e.EmailStatusName.StartsWith("Open") && !e.EmailStatusName.StartsWith("Not") && !e.EmailStatusName.StartsWith("New") && !e.EmailStatusName.StartsWith("Closed") && !e.EmailStatusName.StartsWith("Invalid")))
                    {
                        <td>
                            @email.ModifiedOnDate
                        </td>
                    }
                    @if (Model.Any(e => e.EmailStatusName.StartsWith("Closed") && !e.EmailStatusName.StartsWith("Not") && !e.EmailStatusName.StartsWith("New") && !e.EmailStatusName.StartsWith("Open") && !e.EmailStatusName.StartsWith("Invalid")))
                    {
                    }
                    @if (Model.Any(e => e.EmailStatusName.StartsWith("Invalid") && !e.EmailStatusName.StartsWith("Not") && !e.EmailStatusName.StartsWith("New") && !e.EmailStatusName.StartsWith("Open") && !e.EmailStatusName.StartsWith("Closed")))
                    {
                    }
                    <td>
                        <div>
                            <a asp-controller="Email" asp-action="Application" asp-route-id="@email.Id" style="color: #e66b00">Preview email</a>
                        </div>

                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>
